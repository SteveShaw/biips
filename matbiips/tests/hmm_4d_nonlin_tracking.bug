var vtrue[2,tmax-1], xtrue[4,tmax], xradartrue[2,tmax],
v[2,tmax-1], x[4,tmax], xradar[2,tmax], y[2,tmax]

data
{
  xtrue[,1] ~ dmnorm(meanxinit, precxinit)
  xradartrue[,1] <- xtrue[1:2,1] - xpos
  muytrue[1,1] <- sqrt(xradartrue[1,1]^2+xradartrue[2,1]^2)
  muytrue[2,1] <- arctan(xradartrue[2,1]/xradartrue[1,1])
  y[,1] ~ dmnorm(muytrue[,1], precy)

  for (t in 2:tmax)
  {
    vtrue[,t-1] ~ dmnorm(meanv, Precv)
    xtrue[,t] <- F %*% xtrue[,t-1] + G %*% vtrue[,t-1]
    xradartrue[,t] <- xtrue[1:2,t] - xpos
    muytrue[1,t] <- sqrt(xradartrue[1,t]^2+xradartrue[2,t]^2)
    muytrue[2,t] <- arctan(xradartrue[2,t]/xradartrue[1,t])
    y[,t] ~ dmnorm(muytrue[,t], precy)
  }
}

model
{
  x[,1] ~ dmnorm(meanxinit, precxinit)
  xradar[,1] <- x[1:2,1] - xpos
  muy[1,1] <- sqrt(xradar[1,1]^2+xradar[2,1]^2)
  muy[2,1] <- arctan(xradar[2,1]/xradar[1,1])
  y[,1] ~ dmnorm(muy[,1], precy)

  for (t in 2:tmax)
  {
    v[,t-1] ~ dmnorm(meanv, Precv)
    x[,t] <- F %*% x[,t-1] + G %*% v[,t-1]
    xradar[,t] <- x[1:2,t] - xpos
    muy[1,t] <- sqrt(xradar[1,t]^2+xradar[2,t]^2)
    muy[2,t] <- arctan(xradar[2,t]/xradar[1,t])
    y[,t] ~ dmnorm(muy[,t], precy)
  }
}
